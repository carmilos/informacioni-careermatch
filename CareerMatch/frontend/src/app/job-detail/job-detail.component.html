<div *ngIf="job" class="card">
  <div style="display:flex;justify-content:space-between;align-items:center">
    <div>
      <h2 style="margin:0">{{job.title}}</h2>
      <div class="job-meta">{{job.company}} â€” {{job.location}}</div>
    </div>
    <!-- Uklonjen desni ugao dugme za HR -->
  </div>

  <p class="job-description">{{job.description}}</p>

  <div style="margin-top:18px; text-align:center;">
    <button *ngIf="canSeeApplicants()" class="modal-file-btn" [routerLink]="['/jobs', job.id, 'applicants']">View applicants</button>
    <button *ngIf="!canSeeApplicants()" class="button modal-post-btn" (click)="openApply()">Apply</button>
  </div>

  <div *ngIf="showApply" class="modal-overlay">
    <div class="modal-content">
      <div class="modal-header">
        <h3 class="modal-title">Apply for Job</h3>
        <button class="modal-close" (click)="closeApply()">Ã—</button>
      </div>
      <form class="modal-form">
        <input class="modal-input" placeholder="Your name" [(ngModel)]="name" name="name" />
        <input class="modal-input" placeholder="Your email" [(ngModel)]="email" name="email" />
        <div class="modal-file-row">
          <label for="apply-file" class="modal-file-btn">
            <span *ngIf="!cv">Choose file</span>
            <span *ngIf="cv">{{cv.name}}</span>
          </label>
          <input id="apply-file" type="file" (change)="onFile($event)" style="display:none;" />
          <span *ngIf="cv" class="file-icon-attach" title="File attached">ðŸ“Ž</span>
          <button *ngIf="cv" type="button" class="file-remove-btn" (click)="removeFile()" title="Remove file">âœ–</button>
        </div>
        <button class="button modal-post-btn" type="button" (click)="apply(); closeApply();">Send application</button>
      </form>
    </div>
  </div>
</div>
