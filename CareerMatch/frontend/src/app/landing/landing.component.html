<div class="card">
  <h1>CareerMatch — Job Openings</h1>
  <div class="muted">Log in as HR to post; guests may apply</div>
  <div style="margin-top:12px" class="actions">
    <div *ngIf="!auth.user" style="flex:1;display:flex;gap:8px;">
      <input placeholder="Email" [(ngModel)]="loginEmail" />
      <input placeholder="Password" type="password" [(ngModel)]="loginPassword" />
      <button class="button" (click)="doLogin()">Login</button>
    </div>

    <div *ngIf="!auth.user" style="display:flex;gap:8px;">
      <input placeholder="Register email" [(ngModel)]="registerEmail" />
      <input placeholder="Password" type="password" [(ngModel)]="registerPassword" />
      <button class="button" (click)="doRegister()">Register HR</button>
    </div>

    <div *ngIf="auth.user" style="display:flex;gap:8px;align-items:center">
      <button class="button" *ngIf="auth.isHR()" (click)="toggleCreate()">Create Job</button>
      <button class="button ghost" (click)="auth.logout(); load();">Logout</button>
    </div>
  </div>
</div>

<div *ngIf="showCreate" class="card">
  <h3>Create Job</h3>
  <div style="display:grid;gap:8px">
    <input placeholder="Title" [(ngModel)]="newJob.title" />
    <input placeholder="Company" [(ngModel)]="newJob.company" />
    <input placeholder="Location" [(ngModel)]="newJob.location" />
    <textarea placeholder="Description" [(ngModel)]="newJob.description"></textarea>
    <div><button class="button" (click)="create()">Post</button></div>
  </div>
</div>

<div class="jobs-list">
  <div *ngFor="let job of jobs" class="card">
    <h3><a [routerLink]="['/jobs', job.id]">{{job.title}}</a></h3>
    <div class="job-meta">{{job.company}} — {{job.location}} • Posted by #{{job.owner_id}}</div>
  </div>
</div>
